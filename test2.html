<html>
<head>
  <script src='vendor/jquery.js'></script>
<!--  <script src='http://192.168.1.103/media/vendor/jquery-ui/jquery-ui.js'></script> -->
  <script src='stuff/jquery.event.drag-1.5.js'></script>
  <script src='stuff/jquery.event.drop-1.1.js'></script>

  <style>
    .box {
      position: relative;
      width: 100px;
      height: 100px;
    }
    #box {
      background-color: red;
    }
    #dest {
      background-color: green;
    }
    #dest2 {
      background-color: blue;
    }
  </style>
</head>
<body>

<div class="test">
<div id="box" class="box ui-widget-content">A</div>
<div id="dest" class="box ui-widget-content">A</div>
<div id="dest2" class="box ui-widget-content">A</div>
</div>

<script>
$(function() {
  var startY = {};

  function dragHandler(event) {
    var id = $(this).attr('id');
    if (startY[id] == undefined) {
      var offsets = $(this).offset();
      startY[id] = offsets.top;
    }
    $(this).css({'z-index': 1});
    var offsets = $(this).offset();
    $(this).css({top: event.offsetY - startY[id]});
  }

  function dropHandler(event) {
    var droppedId   = event.dragTarget.id;
    var containerId = event.dropTarget.id;
    if (droppedId != containerId) {
      console.log('Dropped ID ' + droppedId + ' onto ' + containerId);
    }
    $('#' + droppedId).css({top: 0});
  }

  $('.box').bind('drag', dragHandler);
  $('.box').bind('drop', dropHandler);
});
</script>

</body>
